/*
* This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */

import * as z from "zod/v4-mini";
import { smartUnion } from "../types/smartUnion.js";

export type VideoInputSegment2 = {
  /**
   * URL of the segment to be added.
   */
  url: string;
  /**
   * Flag indicating the segment should be inserted at the end.
   */
  insertAtEnd: boolean;
};

export type VideoInputSegment1 = {
  /**
   * URL of the segment to be added.
   */
  url: string;
  /**
   * The timestamp at which the segment should be inserted.
   */
  insertAt: number;
};

export type VideoInputSegmentUnion = VideoInputSegment1 | VideoInputSegment2;

export type VideoInput = {
  /**
   * Defines the type of input.
   *
   * @remarks
   */
  type: string;
  /**
   * The url of the intro video which is to be added at the start of the video.
   *
   * @remarks
   */
  introUrl?: string | undefined;
  /**
   * The url of the outro video which is to be added at the end of the video.
   *
   * @remarks
   */
  outroUrl?: string | undefined;
  /**
   * The list of the startTime-endTime of the segments to be removed from the actual video.
   *
   * @remarks
   */
  expungeSegments?: Array<string> | undefined;
  /**
   * A list of media segments to be added or processed. Each segment includes details such as the URL of the media file and instructions on where it should be inserted in the final media composition. A segment can either specify an exact timestamp  (`insertAt`) or indicate that it should be added at the end (`insertAtEnd`).
   */
  segments?: Array<VideoInputSegment1 | VideoInputSegment2> | undefined;
};

/** @internal */
export type VideoInputSegment2$Outbound = {
  url: string;
  insertAtEnd: boolean;
};

/** @internal */
export const VideoInputSegment2$outboundSchema: z.ZodMiniType<
  VideoInputSegment2$Outbound,
  VideoInputSegment2
> = z.object({
  url: z.string(),
  insertAtEnd: z.boolean(),
});

export function videoInputSegment2ToJSON(
  videoInputSegment2: VideoInputSegment2,
): string {
  return JSON.stringify(
    VideoInputSegment2$outboundSchema.parse(videoInputSegment2),
  );
}

/** @internal */
export type VideoInputSegment1$Outbound = {
  url: string;
  insertAt: number;
};

/** @internal */
export const VideoInputSegment1$outboundSchema: z.ZodMiniType<
  VideoInputSegment1$Outbound,
  VideoInputSegment1
> = z.object({
  url: z.string(),
  insertAt: z.int(),
});

export function videoInputSegment1ToJSON(
  videoInputSegment1: VideoInputSegment1,
): string {
  return JSON.stringify(
    VideoInputSegment1$outboundSchema.parse(videoInputSegment1),
  );
}

/** @internal */
export type VideoInputSegmentUnion$Outbound =
  | VideoInputSegment1$Outbound
  | VideoInputSegment2$Outbound;

/** @internal */
export const VideoInputSegmentUnion$outboundSchema: z.ZodMiniType<
  VideoInputSegmentUnion$Outbound,
  VideoInputSegmentUnion
> = smartUnion([
  z.lazy(() => VideoInputSegment1$outboundSchema),
  z.lazy(() => VideoInputSegment2$outboundSchema),
]);

export function videoInputSegmentUnionToJSON(
  videoInputSegmentUnion: VideoInputSegmentUnion,
): string {
  return JSON.stringify(
    VideoInputSegmentUnion$outboundSchema.parse(videoInputSegmentUnion),
  );
}

/** @internal */
export type VideoInput$Outbound = {
  type: string;
  introUrl?: string | undefined;
  outroUrl?: string | undefined;
  expungeSegments?: Array<string> | undefined;
  segments?:
    | Array<VideoInputSegment1$Outbound | VideoInputSegment2$Outbound>
    | undefined;
};

/** @internal */
export const VideoInput$outboundSchema: z.ZodMiniType<
  VideoInput$Outbound,
  VideoInput
> = z.object({
  type: z.string(),
  introUrl: z.optional(z.string()),
  outroUrl: z.optional(z.string()),
  expungeSegments: z.optional(z.array(z.string())),
  segments: z.optional(
    z.array(smartUnion([
      z.lazy(() => VideoInputSegment1$outboundSchema),
      z.lazy(() =>
        VideoInputSegment2$outboundSchema
      ),
    ])),
  ),
});

export function videoInputToJSON(videoInput: VideoInput): string {
  return JSON.stringify(VideoInput$outboundSchema.parse(videoInput));
}
