/*
* This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */

import * as z from "zod/v4-mini";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { smartUnion } from "../../types/smartUnion.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import * as models from "../index.js";

export type RetrieveMediaInputInfoRequest = {
  /**
   * Pass the list of the input objects used to create the media, along with applied settings.
   */
  mediaId: string;
};

/**
 * Represents configuration details for the media.
 */
export type Configuration = {
  /**
   * The URL hosting the media file to be downloaded and processed by FastPix.   Supports formats like MP4, MOV, MKV, TS, MP3, and text tracks (SRT/VTT).   Using standard formats ensures optimal processing speed.
   *
   * @remarks
   */
  url?: string | undefined;
};

export type Track =
  | models.VideoTrack
  | models.AudioTrack
  | models.SubtitleTrack;

/**
 * Contains metadata and structural details about the media file.
 */
export type FileT = {
  /**
   * Specifies the container format that encapsulates audio, video, subtitles, and metadata.
   */
  containerFormat?: string | undefined;
  /**
   * A list of all media tracks including video, audio, and subtitles.
   */
  tracks?:
    | Array<models.VideoTrack | models.AudioTrack | models.SubtitleTrack>
    | undefined;
};

/**
 * Displays the result of the request.
 */
export type RetrieveMediaInputInfoData = {
  /**
   * Represents configuration details for the media.
   */
  configuration?: Configuration | undefined;
  /**
   * Contains metadata and structural details about the media file.
   */
  file?: FileT | undefined;
};

/**
 * Get video media input information
 */
export type RetrieveMediaInputInfoResponseBody = {
  /**
   * Shows the request status. Returns true for success and false for failure.
   */
  success?: boolean | undefined;
  /**
   * Displays the result of the request.
   */
  data?: RetrieveMediaInputInfoData | undefined;
};

export type RetrieveMediaInputInfoResponse =
  | RetrieveMediaInputInfoResponseBody
  | models.DefaultError;

/** @internal */
export type RetrieveMediaInputInfoRequest$Outbound = {
  mediaId: string;
};

/** @internal */
export const RetrieveMediaInputInfoRequest$outboundSchema: z.ZodMiniType<
  RetrieveMediaInputInfoRequest$Outbound,
  RetrieveMediaInputInfoRequest
> = z.object({
  mediaId: z.string(),
});

export function retrieveMediaInputInfoRequestToJSON(
  retrieveMediaInputInfoRequest: RetrieveMediaInputInfoRequest,
): string {
  return JSON.stringify(
    RetrieveMediaInputInfoRequest$outboundSchema.parse(
      retrieveMediaInputInfoRequest,
    ),
  );
}

/** @internal */
export const Configuration$inboundSchema: z.ZodMiniType<
  Configuration,
  unknown
> = z.object({
  url: types.optional(types.string()),
});

export function configurationFromJSON(
  jsonString: string,
): SafeParseResult<Configuration, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Configuration$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Configuration' from JSON`,
  );
}

/** @internal */
export const Track$inboundSchema: z.ZodMiniType<Track, unknown> = smartUnion([
  models.VideoTrack$inboundSchema,
  models.AudioTrack$inboundSchema,
  models.SubtitleTrack$inboundSchema,
]);

export function trackFromJSON(
  jsonString: string,
): SafeParseResult<Track, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Track$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Track' from JSON`,
  );
}

/** @internal */
export const FileT$inboundSchema: z.ZodMiniType<FileT, unknown> = z.object({
  containerFormat: types.optional(types.string()),
  tracks: types.optional(
    z.array(
      smartUnion([
        models.VideoTrack$inboundSchema,
        models.AudioTrack$inboundSchema,
        models.SubtitleTrack$inboundSchema,
      ]),
    ),
  ),
});

export function fileFromJSON(
  jsonString: string,
): SafeParseResult<FileT, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => FileT$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'FileT' from JSON`,
  );
}

/** @internal */
export const RetrieveMediaInputInfoData$inboundSchema: z.ZodMiniType<
  RetrieveMediaInputInfoData,
  unknown
> = z.object({
  configuration: types.optional(z.lazy(() => Configuration$inboundSchema)),
  file: types.optional(z.lazy(() => FileT$inboundSchema)),
});

export function retrieveMediaInputInfoDataFromJSON(
  jsonString: string,
): SafeParseResult<RetrieveMediaInputInfoData, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RetrieveMediaInputInfoData$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RetrieveMediaInputInfoData' from JSON`,
  );
}

/** @internal */
export const RetrieveMediaInputInfoResponseBody$inboundSchema: z.ZodMiniType<
  RetrieveMediaInputInfoResponseBody,
  unknown
> = z.object({
  success: types.optional(types.boolean()),
  data: types.optional(z.lazy(() => RetrieveMediaInputInfoData$inboundSchema)),
});

export function retrieveMediaInputInfoResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<RetrieveMediaInputInfoResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      RetrieveMediaInputInfoResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RetrieveMediaInputInfoResponseBody' from JSON`,
  );
}

/** @internal */
export const RetrieveMediaInputInfoResponse$inboundSchema: z.ZodMiniType<
  RetrieveMediaInputInfoResponse,
  unknown
> = smartUnion([
  z.lazy(() => RetrieveMediaInputInfoResponseBody$inboundSchema),
  models.DefaultError$inboundSchema,
]);

export function retrieveMediaInputInfoResponseFromJSON(
  jsonString: string,
): SafeParseResult<RetrieveMediaInputInfoResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => RetrieveMediaInputInfoResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'RetrieveMediaInputInfoResponse' from JSON`,
  );
}
