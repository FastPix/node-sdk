/*
* This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */

import * as z from "zod/v4-mini";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { smartUnion } from "../../types/smartUnion.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import * as models from "../index.js";

/**
 * Pass metric Id
 *
 * @remarks
 */
export const ListOverallValuesMetricId = {
  Views: "views",
  UniqueViewers: "unique_viewers",
  PlayingTime: "playing_time",
  QualityOfExperienceScore: "quality_of_experience_score",
  PlaybackScore: "playback_score",
  PlaybackFailurePercentage: "playback_failure_percentage",
  ExitBeforeVideoStart: "exit_before_video_start",
  VideoStartupFailurePercentage: "video_startup_failure_percentage",
  StartupScore: "startup_score",
  VideoStartupTime: "video_startup_time",
  PlayerStartupTime: "player_startup_time",
  PageLoadTime: "page_load_time",
  TotalStartupTime: "total_startup_time",
  LiveStreamLatency: "live_stream_latency",
  AverageBitrate: "average_bitrate",
  BufferCount: "buffer_count",
  RenderQualityScore: "render_quality_score",
  AvgUpscaling: "avg_upscaling",
  AvgDownscaling: "avg_downscaling",
  MaxUpscaling: "max_upscaling",
  MaxDownscaling: "max_downscaling",
  JumpLatency: "jump_latency",
  StabilityScore: "stability_score",
  BufferRatio: "buffer_ratio",
  BufferFrequency: "buffer_frequency",
  BufferFill: "buffer_fill",
} as const;
/**
 * Pass metric Id
 *
 * @remarks
 */
export type ListOverallValuesMetricId = ClosedEnum<
  typeof ListOverallValuesMetricId
>;

/**
 * This parameter specifies the time span between which the video views list must be retrieved by. You can provide either from and to unix epoch timestamps or time duration. The scope of duration is between 60 minutes to 30 days.
 *
 * @remarks
 *
 * **Accepted formats are:**
 *
 * array of epoch timestamps for example
 * `timespan[]=1498867200&timespan[]=1498953600`
 *
 * duration string for example
 * `timespan[]=24:hours` or `timespan[]=7:days`
 */
export const ListOverallValuesTimespan = {
  Sixtyminutes: "60:minutes",
  Sixhours: "6:hours",
  TwentyFourhours: "24:hours",
  Threedays: "3:days",
  Sevendays: "7:days",
  Thirtydays: "30:days",
} as const;
/**
 * This parameter specifies the time span between which the video views list must be retrieved by. You can provide either from and to unix epoch timestamps or time duration. The scope of duration is between 60 minutes to 30 days.
 *
 * @remarks
 *
 * **Accepted formats are:**
 *
 * array of epoch timestamps for example
 * `timespan[]=1498867200&timespan[]=1498953600`
 *
 * duration string for example
 * `timespan[]=24:hours` or `timespan[]=7:days`
 */
export type ListOverallValuesTimespan = ClosedEnum<
  typeof ListOverallValuesTimespan
>;

export type ListOverallValuesRequest = {
  /**
   * Pass metric Id
   *
   * @remarks
   */
  metricId: ListOverallValuesMetricId;
  /**
   * The measurement for the given metrics.
   *
   * @remarks
   * Possible Values : [95th, median, avg, count or sum]
   */
  measurement?: string | undefined;
  /**
   * This parameter specifies the time span between which the video views list must be retrieved by. You can provide either from and to unix epoch timestamps or time duration. The scope of duration is between 60 minutes to 30 days.
   *
   * @remarks
   *
   * **Accepted formats are:**
   *
   * array of epoch timestamps for example
   * `timespan[]=1498867200&timespan[]=1498953600`
   *
   * duration string for example
   * `timespan[]=24:hours` or `timespan[]=7:days`
   */
  timespan?: ListOverallValuesTimespan | undefined;
  /**
   * Pass the dimensions and their corresponding values you want to filter the views by. For excluding the values in the filter we can pass "!" before the filter value. The list of filters can be obtained from list of dimensions endpoint.
   *
   * @remarks
   * Example Values : [ browser_name:Chrome , os_name:macOS , !device_name:Galaxy ]
   */
  filterby?: string | undefined;
};

/**
 * Get filter/ dimension value details by dimension name.
 */
export type ListOverallValuesResponseBody = {
  /**
   * Shows the request status. Returns true for success and false for failure.
   */
  success?: boolean | undefined;
  /**
   * metadata that has to be paased for metric calculations.
   */
  metadata?: models.MetricsOverallmetadataDetails | undefined;
  /**
   * Retrieves overall values for a specified metric
   */
  data?: models.MetricsOverallDataDetails | undefined;
  /**
   * The timespan from and to details displayed in the form of unix epoch timestamps.
   *
   * @remarks
   */
  timespan?: Array<number> | undefined;
};

export type ListOverallValuesResponse =
  | ListOverallValuesResponseBody
  | models.DefaultError;

/** @internal */
export const ListOverallValuesMetricId$outboundSchema: z.ZodMiniEnum<
  typeof ListOverallValuesMetricId
> = z.enum(ListOverallValuesMetricId);

/** @internal */
export const ListOverallValuesTimespan$outboundSchema: z.ZodMiniEnum<
  typeof ListOverallValuesTimespan
> = z.enum(ListOverallValuesTimespan);

/** @internal */
export type ListOverallValuesRequest$Outbound = {
  metricId: string;
  measurement: string;
  "timespan[]"?: string | undefined;
  "filterby[]"?: string | undefined;
};

/** @internal */
export const ListOverallValuesRequest$outboundSchema: z.ZodMiniType<
  ListOverallValuesRequest$Outbound,
  ListOverallValuesRequest
> = z.pipe(
  z.object({
    metricId: ListOverallValuesMetricId$outboundSchema,
    measurement: z._default(z.string(), "avg"),
    timespan: z.optional(ListOverallValuesTimespan$outboundSchema),
    filterby: z.optional(z.string()),
  }),
  z.transform((v) => {
    return remap$(v, {
      timespan: "timespan[]",
      filterby: "filterby[]",
    });
  }),
);

export function listOverallValuesRequestToJSON(
  listOverallValuesRequest: ListOverallValuesRequest,
): string {
  return JSON.stringify(
    ListOverallValuesRequest$outboundSchema.parse(listOverallValuesRequest),
  );
}

/** @internal */
export const ListOverallValuesResponseBody$inboundSchema: z.ZodMiniType<
  ListOverallValuesResponseBody,
  unknown
> = z.object({
  success: types.optional(types.boolean()),
  metadata: types.optional(models.MetricsOverallmetadataDetails$inboundSchema),
  data: types.optional(models.MetricsOverallDataDetails$inboundSchema),
  timespan: types.optional(z.array(types.number())),
});

export function listOverallValuesResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<ListOverallValuesResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListOverallValuesResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListOverallValuesResponseBody' from JSON`,
  );
}

/** @internal */
export const ListOverallValuesResponse$inboundSchema: z.ZodMiniType<
  ListOverallValuesResponse,
  unknown
> = smartUnion([
  z.lazy(() => ListOverallValuesResponseBody$inboundSchema),
  models.DefaultError$inboundSchema,
]);

export function listOverallValuesResponseFromJSON(
  jsonString: string,
): SafeParseResult<ListOverallValuesResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListOverallValuesResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListOverallValuesResponse' from JSON`,
  );
}
