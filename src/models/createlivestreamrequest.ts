/*
* This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */

import * as z from "zod/v4-mini";
import { ClosedEnum } from "../types/enums.js";
import {
  BasicAccessPolicy,
  BasicAccessPolicy$outboundSchema,
} from "./basicaccesspolicy.js";
import {
  PlaybackSettings,
  PlaybackSettings$Outbound,
  PlaybackSettings$outboundSchema,
} from "./playbacksettings.js";

/**
 * Defines the maximum resolution for encoding, storage, and playback of the live stream.
 *
 * @remarks
 */
export const CreateLiveStreamRequestMaxResolution = {
  OneThousandAndEightyp: "1080p",
  SevenHundredAndTwentyp: "720p",
  FourHundredAndEightyp: "480p",
} as const;
/**
 * Defines the maximum resolution for encoding, storage, and playback of the live stream.
 *
 * @remarks
 */
export type CreateLiveStreamRequestMaxResolution = ClosedEnum<
  typeof CreateLiveStreamRequestMaxResolution
>;

/**
 * Contains configuration details for input media settings.
 */
export type InputMediaSettings = {
  /**
   * Defines the maximum resolution for encoding, storage, and playback of the live stream.
   *
   * @remarks
   */
  maxResolution?: CreateLiveStreamRequestMaxResolution | undefined;
  /**
   * Time period (in seconds) FastPix waits to reconnect before ending the stream when disconnected.
   *
   * @remarks
   */
  reconnectWindow?: number | undefined;
  /**
   * Basic access policy for media content
   */
  mediaPolicy?: BasicAccessPolicy | undefined;
  /**
   * Custom keyâ€“value pairs for tagging livestreams.
   *
   * @remarks
   * Allows up to 10 entries with a maximum of 255 characters each.
   */
  metadata?: { [k: string]: string } | undefined;
  /**
   * Enables DVR (Digital Video Recorder) functionality, allowing viewers to pause, rewind, and resume live playback.
   *
   * @remarks
   */
  enableDvrMode?: boolean | undefined;
};

export type CreateLiveStreamRequest = {
  /**
   * Displays the result of the playback settings.
   */
  playbackSettings: PlaybackSettings;
  /**
   * Contains configuration details for input media settings.
   */
  inputMediaSettings: InputMediaSettings;
};

/** @internal */
export const CreateLiveStreamRequestMaxResolution$outboundSchema: z.ZodMiniEnum<
  typeof CreateLiveStreamRequestMaxResolution
> = z.enum(CreateLiveStreamRequestMaxResolution);

/** @internal */
export type InputMediaSettings$Outbound = {
  maxResolution: string;
  reconnectWindow: number;
  mediaPolicy: string;
  metadata?: { [k: string]: string } | undefined;
  enableDvrMode?: boolean | undefined;
};

/** @internal */
export const InputMediaSettings$outboundSchema: z.ZodMiniType<
  InputMediaSettings$Outbound,
  InputMediaSettings
> = z.object({
  maxResolution: z._default(
    CreateLiveStreamRequestMaxResolution$outboundSchema,
    "1080p",
  ),
  reconnectWindow: z._default(z.int(), 60),
  mediaPolicy: z._default(BasicAccessPolicy$outboundSchema, "public"),
  metadata: z.optional(z.record(z.string(), z.string())),
  enableDvrMode: z.optional(z.boolean()),
});

export function inputMediaSettingsToJSON(
  inputMediaSettings: InputMediaSettings,
): string {
  return JSON.stringify(
    InputMediaSettings$outboundSchema.parse(inputMediaSettings),
  );
}

/** @internal */
export type CreateLiveStreamRequest$Outbound = {
  playbackSettings: PlaybackSettings$Outbound;
  inputMediaSettings: InputMediaSettings$Outbound;
};

/** @internal */
export const CreateLiveStreamRequest$outboundSchema: z.ZodMiniType<
  CreateLiveStreamRequest$Outbound,
  CreateLiveStreamRequest
> = z.object({
  playbackSettings: PlaybackSettings$outboundSchema,
  inputMediaSettings: z.lazy(() => InputMediaSettings$outboundSchema),
});

export function createLiveStreamRequestToJSON(
  createLiveStreamRequest: CreateLiveStreamRequest,
): string {
  return JSON.stringify(
    CreateLiveStreamRequest$outboundSchema.parse(createLiveStreamRequest),
  );
}
