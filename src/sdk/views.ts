/*
* This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */

import { viewsGetDetails } from "../funcs/viewsGetDetails.js";
import { viewsList } from "../funcs/viewsList.js";
import { viewsListTopContent } from "../funcs/viewsListTopContent.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Views extends ClientSDK {
  /**
   * List video views
   *
   * @remarks
   * Retrieves a list of video views that fall within the specified filters and have been completed within a defined timespan. It lets you to analyse viewer interactions with your video content effectively.
   *
   * #### How it works
   *
   *   1. Send a `GET` request to this endpoint with the desired query parameters.
   *
   *   2. Specify the timespan for which you want to retrieve the video views using the `timespan[]` parameter.
   *
   *   3. Filter the views based on dimensions such as browser, device, video title, viewer ID, etc., using the `filterby[]` parameter. Get the dimensions by calling <a href="https://docs.fastpix.io/reference/list_dimensions">list the dimensions</a> endpoint.
   *
   *   4. Paginate the results using the `limit` and `offset` parameters.
   *
   *   5. You can also filter by `viewerId`, `errorCode`, `orderBy` a specific field, and `sortOrder` in ascending or descending order.
   *
   *   6. You receive a response containing the list of video views matching the specified criteria.
   *
   * Each view in the response includes a unique `viewId`. You can use this `viewId` with the  <a href="https://docs.fastpix.io/reference/get_video_view_details">Get Video View Details</a> endpoint to retrieve more detailed information about that specific view.
   *
   * #### Example
   *
   * If you manage a video streaming service and want to analyze content performance across devices and browsers. By calling the List Video Views endpoint with filters such as `browser_name` and `device_type`, you can identify which platforms are most popular with your audience. This information helps optimize content for widely used platforms and troubleshoot playback issues on less common devices.
   *
   *   Related guide: <a href="https://docs.fastpix.io/docs/audience-metrics">Audience metrics</a>, <a href="https://docs.fastpix.io/docs/understand-dashboard-ui#1-views-dashboard">Views dashboard</a>
   */
  async list(
    request?: operations.ListVideoViewsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListVideoViewsResponse> {
    return unwrapAsync(viewsList(
      this,
      request,
      options,
    ));
  }

  /**
   * Get details of video view
   *
   * @remarks
   * Retrieves detailed information about a specific video view using its unique `viewId`. This provides insights into individual viewer interactions with your video content, helping you enhance user experience and improve engagement with your videos.
   *
   * To use this endpoint, send `GET` request with the `viewId`. The response includes detailed metrics and attributes related to the specified video view.
   *
   * #### Example
   *
   * If a developer receives a report of a poor viewing experience for a specific user. By using this endpoint with the users `viewId`, the developer can retrieve metrics like buffering duration, playback errors, and session length. This data allows the developer to pinpoint issues (such as poor connectivity or a browser-specific problem) and take steps to improve the user experience.
   *
   * Related guide: <a href="https://docs.fastpix.io/page/what-video-data-do-we-capture#/">What Video Data do we capture?</a>
   */
  async getDetails(
    request: operations.GetVideoViewDetailsRequest,
    options?: RequestOptions,
  ): Promise<operations.GetVideoViewDetailsResponse> {
    return unwrapAsync(viewsGetDetails(
      this,
      request,
      options,
    ));
  }

  /**
   * List by top content
   *
   * @remarks
   * Retrieves a list of the top video views that fall within the specified filters and have been completed within a defined timespan. It lets you to identify the most popular content based on viewer interactions.
   *
   * #### How it works
   *
   *   1. Send a `GET` request to this endpoint with the desired query parameters.
   *
   *   2. Specify the timespan for which you want to retrieve the top content using the `timespan[]` parameter.
   *
   *   3. Filter the views based on dimensions such as browser, device, video title, etc., using the `filterby[]` parameter.
   *
   *   4. You can use `Limit` to control number of top views returned.
   *
   *   5. You receive a response containing the list of top video views matching the specified criteria.
   *
   *   Related guide: <a href="https://docs.fastpix.io/page/how-to-get-top-performing-content">Get top-performing content</a>
   */
  async listTopContent(
    request?: operations.ListByTopContentRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListByTopContentResponse> {
    return unwrapAsync(viewsListTopContent(
      this,
      request,
      options,
    ));
  }
}
