/*
* This file is auto-generated.
 * Do not edit this file manually.
 * Your changes will be overwritten during the next generation.
 */

import { manageVideosAddTrack } from "../funcs/manageVideosAddTrack.js";
import { manageVideosCancelUpload } from "../funcs/manageVideosCancelUpload.js";
import { manageVideosDelete } from "../funcs/manageVideosDelete.js";
import { manageVideosGenerateSubtitleTrack } from "../funcs/manageVideosGenerateSubtitleTrack.js";
import { manageVideosGet } from "../funcs/manageVideosGet.js";
import { manageVideosGetSummary } from "../funcs/manageVideosGetSummary.js";
import { manageVideosListUploads } from "../funcs/manageVideosListUploads.js";
import { manageVideosRetrieveMediaInputInfo } from "../funcs/manageVideosRetrieveMediaInputInfo.js";
import { manageVideosUpdate } from "../funcs/manageVideosUpdate.js";
import { manageVideosUpdateMp4Support } from "../funcs/manageVideosUpdateMp4Support.js";
import { manageVideosUpdateTrack } from "../funcs/manageVideosUpdateTrack.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class ManageVideos extends ClientSDK {
  /**
   * Get a media by ID
   *
   * @remarks
   * By calling this endpoint, you can retrieve detailed information about a specific media item, including its current `status` and a `playbackId`. This is particularly useful for retrieving specific media details when managing large content libraries.
   *
   * #### How it works
   *
   * 1. Send a GET request to this endpoint. Use the `<mediaId>` you received after uploading the media file.
   *
   * 2. The response includes details about the media:
   *    - **status** – Indicates whether the media is still *Processing* or has transitioned to *Ready*.
   *    - **playbackId** – A unique identifier that allows you to stream the media once it is *Ready*.
   *      You can construct the stream URL as follows:
   *      `https://stream.fastpix.io/<playbackId>.m3u8`
   *
   * #### Example
   *
   * If your platform provides users with a dashboard to manage uploaded content, a user might want to check whether a video has finished processing and is ready for playback. You can use the media ID to retrieve the information from FastPix and display it in the user’s dashboard.
   */
  async get(
    request: operations.GetMediaRequest,
    options?: RequestOptions,
  ): Promise<operations.GetMediaResponse> {
    return unwrapAsync(manageVideosGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update a media by ID
   *
   * @remarks
   * This endpoint allows you to update specific parameters of an existing media file. You can modify the key-value pairs of the metadata that were provided in the payload during the creation of media from a URL or when uploading the media directly from device.
   *
   * #### How it works
   *
   * 1. Make a PATCH request to this endpoint. Replace `<mediaId>` with the unique ID (`uploadId` or `id`) of the media you received after uploading to FastPix
   *
   * 2. Include the updated parameters in the request body.
   *
   * 3. The response returns the updated media data, confirming the changes.
   *
   * 4. Monitor the <a href="https://docs.fastpix.io/docs/media-events#videomediaupdated">video.media.updated</a> webhook event to track the update status in your system.
   *
   * #### Example
   * If a user uploads a video and later needs to change the title, add a new description, or update tags, you can use this endpoint to update the media metadata without re-uploading the entire video.
   */
  async update(
    request: operations.UpdatedMediaRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdatedMediaResponse> {
    return unwrapAsync(manageVideosUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete a media by ID
   *
   * @remarks
   * This endpoint allows you to permanently delete a a specific video or audio media file along with all associated data. If you wish to remove a media from FastPix storage, use this endpoint with the `mediaId` (either `uploadId` or `id`) received during the media's creation or upload.
   *
   * #### How it works
   *
   * 1. Send a DELETE request to this endpoint. Replace `<mediaId>` with the `uploadId` or the `id` of the media you want to delete.
   *
   * 2. This action is irreversible. Make sure you no longer need the media before proceeding. Once deleted, the media can’t be retrieved or played back.
   *
   * 3. Monitor the following webhook event: <a href="https://docs.fastpix.io/docs/media-events#videomediadeleted">video.media.deleted</a>
   *
   * #### Example
   * A user on a video-sharing platform decides to remove an old video from their profile, or suppose you're running a content moderation system, and one of the videos uploaded by a user violates your platform's policies. Using this endpoint, the media is permanently deleted from your library, ensuring it's no longer accessible or viewable by other users.
   */
  async delete(
    request: operations.DeleteMediaRequest,
    options?: RequestOptions,
  ): Promise<operations.DeleteMediaResponse> {
    return unwrapAsync(manageVideosDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Add audio / subtitle track
   *
   * @remarks
   * This endpoint allows you to add an audio or subtitle track to an existing media file using its `mediaId`. You need to provide the track `url` along with its `type` (audio or subtitle), `languageName` and `languageCode` in the request payload.
   *
   * #### How it works
   *
   * 1. Send a POST request to this endpoint, replacing `{mediaId}` with the media ID (`uploadId` or `id`).
   *
   * 2. Provide the necessary details in the request body.
   *
   * 3. Receive a response containing a unique track ID and the details of the newly added track.
   *
   * #### Webhook events
   *
   * 1. After successfully adding a track, your system must receive the webhook event <a href="https://docs.fastpix.io/docs/transform-media-events#videomediatrackcreated">video.media.track.created</a>.
   *
   * 2. Once the track is processed and ready, you must receive the webhook event <a href="https://docs.fastpix.io/docs/transform-media-events#videomediatrackready">video.media.track.ready</a>.
   *
   * 3. Finally, an update event <a href="https://docs.fastpix.io/docs/media-events#videomediaupdated">video.media.updated</a> must notify your system about the media's updated status.
   *
   * #### Example
   * Suppose you have a video uploaded to the FastPix platform, and you want to add an Italian audio track to it. By calling this API, you can attach an external audio file (https://static.fastpix.io/music-1.mp3) to the media file. Similarly, if you need to add subtitles in different languages, you can specify type: `subtitle` with the corresponding subtitle `url`, `languageCode` and `languageName`.
   *
   * Related guides: <a href="https://docs.fastpix.io/docs/manage-subtitle-tracks">Add own subtitle tracks</a>, <a href="https://docs.fastpix.io/docs/manage-audio-tracks">Add own audio tracks</a>
   */
  async addTrack(
    request: operations.AddMediaTrackRequest,
    options?: RequestOptions,
  ): Promise<operations.AddMediaTrackResponse> {
    return unwrapAsync(manageVideosAddTrack(
      this,
      request,
      options,
    ));
  }

  /**
   * Cancel ongoing upload
   *
   * @remarks
   * This endpoint allows you to cancel ongoing upload by its `uploadId`. Once cancelled, the upload is marked as cancelled. Use this if a user aborts an upload or if you want to programmatically stop an in-progress upload.
   *
   * #### How it works
   *
   * 1. Make a PUT request to this endpoint, replacing `{uploadId}` with the unique upload ID received after starting the upload.
   * 2. The response confirms the cancellation and provide the status of the upload.
   *
   * #### Webhook Events
   *
   * Once the upload is cancelled, you must receive the webhook event <a href="https://docs.fastpix.io/docs/media-events#videomediauploadcancelled">video.media.upload.cancelled</a>.
   *
   * #### Example
   *
   * Suppose a user starts uploading a large video file but decides to cancel before completion. By calling this API, you can immediately stop the upload and free up resources.
   */
  async cancelUpload(
    request: operations.CancelUploadRequest,
    options?: RequestOptions,
  ): Promise<operations.CancelUploadResponse> {
    return unwrapAsync(manageVideosCancelUpload(
      this,
      request,
      options,
    ));
  }

  /**
   * Update audio / subtitle track
   *
   * @remarks
   * This endpoint allows you to update an existing audio or subtitle track associated with a media file. When updating a track, you must provide the new track `url`, `languageName`, and `languageCode`, ensuring all three parameters are included in the request.
   *
   * #### How it works
   *
   * 1. Send a PATCH request to this endpoint, replacing `{mediaId}` with the media ID, and `{trackId}` with the ID of the track you want to update.
   *
   * 2. Provide the necessary details in the request body.
   *
   * 3. Receive a response confirming the track update.
   *
   * #### Webhook Events
   *
   * After updating a track, your system must receive webhook notifications:
   *
   * 1. After successfully updating a track, your system must receive the webhook event <a href="https://docs.fastpix.io/docs/transform-media-events#videomediatrackupdated">video.media.track.updated</a>.
   *
   * 2. Once the new track is processed and ready, you must receive the webhook event <a href="https://docs.fastpix.io/docs/transform-media-events#videomediatrackready">video.media.track.ready</a>.
   *
   * 3. Once the media file is updated with the new track details, a <a href="https://docs.fastpix.io/docs/media-events#videomediaupdated">video.media.updated</a> event must be triggered.
   *
   * #### Example
   * Suppose you previously added a French subtitle track to a video but now need to update it with a different file. By calling this API, you can replace the existing subtitle file (.vtt) with a new one while keeping the same track ID. This is useful when:
   *
   *   - The original track file has errors and needs correction.
   *   - You want to improve subtitle translations or replace an audio track with a better-quality version.
   *
   * Related guides: <a href="https://docs.fastpix.io/docs/manage-subtitle-tracks">Add own subtitle tracks</a>, <a href="https://docs.fastpix.io/docs/manage-audio-tracks">Add own audio tracks</a>
   */
  async updateTrack(
    request: operations.UpdateMediaTrackRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdateMediaTrackResponse> {
    return unwrapAsync(manageVideosUpdateTrack(
      this,
      request,
      options,
    ));
  }

  /**
   * Generate track subtitle
   *
   * @remarks
   * This endpoint allows you to generate subtitles for an existing audio track in a media file. By calling this API, you can generate subtitles automatically using speech recognition
   *
   * #### How it works
   *
   * 1. Send a `POST` request to this endpoint, replacing `{mediaId}` with the media ID and `{trackId}` with the track ID.
   *
   * 2. Provide the necessary details in the request body, including the languageName and languageCode.
   *
   * 3. You receive a response containing a unique subtitle track ID and its details.
   *
   * #### Webhook Events
   *
   * 1. After the subtitle track is generated and ready, you receive the webhook event <a href="https://docs.fastpix.io/docs/transform-media-events#videomediasubtitlegeneratedready">video.media.subtitle.generated.ready</a>.
   *
   * 2. Finally the <a href="https://docs.fastpix.io/docs/media-events#videomediaupdated">video.media.updated</a> event notifies your system about the media’s updated status.
   *
   * </br> Related guide: <a href="https://docs.fastpix.io/docs/add-auto-generated-subtitles-to-videos">Add auto-generated subtitles</a>
   */
  async generateSubtitleTrack(
    request: operations.GenerateSubtitleTrackRequest,
    options?: RequestOptions,
  ): Promise<operations.GenerateSubtitleTrackResponse> {
    return unwrapAsync(manageVideosGenerateSubtitleTrack(
      this,
      request,
      options,
    ));
  }

  /**
   * Get the summary of a video
   *
   * @remarks
   * This endpoint returns the generated summary of a video.
   *
   * The summary is created using the **InVideo Summary** feature, which processes the video content and produces a textual summary.
   *
   * To use this endpoint, you must first generate the video summary using the Generate Video Summary endpoint. This endpoint can return the summary only after that process is complete.
   *
   * Typical use cases include:
   * - Providing viewers with a quick preview of the video's main content.
   * - Enabling search or recommendation systems to surface summarized insights.
   * - Supporting accessibility and content discovery without requiring users to watch the full video.
   *
   * If the summary has not been generated or the feature is disabled for the requested media, the endpoint returns an error indicating that the summary is unavailable.
   */
  async getSummary(
    request: operations.GetMediaSummaryRequest,
    options?: RequestOptions,
  ): Promise<operations.GetMediaSummaryResponse> {
    return unwrapAsync(manageVideosGetSummary(
      this,
      request,
      options,
    ));
  }

  /**
   * Update the mp4Support of a media by ID
   *
   * @remarks
   * This endpoint allows you to update the `mp4Support` setting of an existing media file using its media ID. You can specify the MP4 support level, such as `none`, `capped_4k`, `audioOnly`, or a combination of `audioOnly`, `capped_4k`, in the request payload.
   *
   * #### How it works
   *
   * 1. Send a PATCH request to this endpoint, replacing `{mediaId}` with the media ID.
   *
   * 2. Provide the desired `mp4Support` value in the request body.
   *
   * 3. You receive a response confirming the update, including the media’s updated MP4 support status.
   *
   * #### MP4 Support Options
   *
   * - `none` – MP4 support is disabled for this media.
   *
   * - `capped_4k` – Generates MP4 renditions up to 4K resolution.
   *
   * - `audioOnly` – Generates an M4A file that contains only the audio track.
   *
   * - `audioOnly,capped_4k` – Generates both an audio-only M4A file and MP4 renditions up to 4K resolution.
   *
   * #### Webhook events
   *
   * - <a href="https://docs.fastpix.io/docs/transform-media-events#videomediamp4supportready">video.media.mp4Support.ready</a> – Triggered when the MP4 support setting is successfully updated.
   *
   * #### Example
   * Suppose you have a video uploaded to the FastPix platform, and you want to allow users to download the video in MP4 format. By setting "mp4Support": "capped_4k", the system generates an MP4 rendition of the video up to 4K resolution, making it available for download through the stream URL(`https://stream.fastpix.io/{playbackId}/{capped-4k.mp4 | audio.m4a}`). If you want users to stream only the audio from the media file, you can set "mp4Support": "audioOnly". This provides an audio-only stream URL that allows users to listen to the media without video. By setting "mp4Support": "audioOnly,capped_4k", both options are enabled. Users can download the MP4 video and also stream just the audio version of the media.
   *
   * Related guide: <a href="https://docs.fastpix.io/docs/mp4-support-for-offline-viewing">Use MP4 support for offline viewing</a>
   */
  async updateMp4Support(
    request: operations.UpdatedMp4SupportRequest,
    options?: RequestOptions,
  ): Promise<operations.UpdatedMp4SupportResponse> {
    return unwrapAsync(manageVideosUpdateMp4Support(
      this,
      request,
      options,
    ));
  }

  /**
   * Get info of media inputs
   *
   * @remarks
   * This endpoint lets you retrieve detailed information about the media inputs associated with a specific media item. You can use it to verify the media file’s input URL, track its creation status, and check its container format. You must provide the mediaId (either the uploadId or the id) to fetch this information.
   *
   * #### How it works
   *
   * Upon making a `GET` request with the mediaId, FastPix returns a response with:
   *
   * * The public storage input `url` of the uploaded media file.
   *
   * * Information about the media’s video and audio tracks, including whether they were successfully created.
   *
   * * The container format of the uploaded media file (for example, MP4, MKV).
   *
   * This endpoint is particularly useful for ensuring that all necessary tracks (video and audio) have been correctly associated with the media during the upload or media creation process.
   */
  async retrieveMediaInputInfo(
    request: operations.RetrieveMediaInputInfoRequest,
    options?: RequestOptions,
  ): Promise<operations.RetrieveMediaInputInfoResponse> {
    return unwrapAsync(manageVideosRetrieveMediaInputInfo(
      this,
      request,
      options,
    ));
  }

  /**
   * Get all unused upload URLs
   *
   * @remarks
   * This endpoint retrieves a paginated list of all unused upload signed URLs within your organization. It provides comprehensive metadata including upload IDs, creation dates, status, and URLs, helping you manage your media resources efficiently.
   *
   * An unused upload URL is a signed URL that gets generated when an user initiates upload but never completed the upload process. This can happen due to reasons like network issues, manual cancellation of upload, browser/app crashes or session timeouts.These URLs remain in the system as "unused" since they were created but never resulted in a successful media file upload.
   *
   * #### How it works
   *
   *  - The endpoint returns metadata for all unused upload URLs in your organization's library.
   *  - Results are paginated to manage large datasets effectively.
   *  - Signed URLs expire after 24 hours from creation.
   *  - Each entry includes full metadata about the unused upload.
   *
   * #### Example
   *
   * A video management team at a media organization regularly uploads content but often forgets to delete or use unused uploads. These unused uploads have signed URLs that expire after 24 hours and need to be managed efficiently. By using this API, the team can retrieve metadata for all unused uploads, identify expired signed URLs, and decide whether to regenerate URLs, reuse the uploads, or delete them.
   */
  async listUploads(
    request?: operations.ListUploadsRequest | undefined,
    options?: RequestOptions,
  ): Promise<operations.ListUploadsResponse> {
    return unwrapAsync(manageVideosListUploads(
      this,
      request,
      options,
    ));
  }
}
